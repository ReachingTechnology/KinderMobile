webpackJsonp([1],{16:function(t,e,n){"use strict";function a(){}a.prototype.getNow=function(){var t=new Date,e=t.getMilliseconds();return(t.getTime()-e)/1e3},a.prototype.getYesterday=function(){var t=1e3*this.getStartOfToday();return new Date(t-864e5)},a.prototype.getToday=function(){var t=1e3*this.getStartOfToday();return new Date(t)},a.prototype.getTheDay=function(t){return new Date(1e3*t)},a.prototype.getStartOfToday=function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),o=t.getMilliseconds();return console.log("get start of today"),console.log((t.getTime()-3600*e*1e3-60*n*1e3-1e3*a-o)/1e3),(t.getTime()-3600*e*1e3-60*n*1e3-1e3*a-o)/1e3},a.prototype.getStartOfTheday=function(t){var e=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),o=t.getMilliseconds();return(t.getTime()-3600*e*1e3-60*n*1e3-1e3*a-o)/1e3},a.prototype.getStartofThisWeek=function(){var t=new Date,e=this.getStartOfToday(),n=t.getDay();return n=0===n?7:n,e-3600*(n-1)*24},a.prototype.getStartofLastWeek=function(){return this.getStartofThisWeek()-604800},a.prototype.getStartofThisMonth=function(){var t=new Date,e=this.getStartOfToday();return console.log("start of this month"),console.log(e-86400*(t.getDate()-1)),e-86400*(t.getDate()-1)},a.prototype.getStartofMonthofTheDay=function(t){return this.getStartOfTheday(t)-86400*(t.getDate()-1)},a.prototype.getDatetimeSeconds=function(t){var e=new Date(t),n=e.getMilliseconds();return(e.getTime()-n)/1e3},a.prototype.getDayCountOfTheMonth=function(t){return new Date(t.getYear(),t.getMonth()+1,0).getDate()},a.prototype.getDayCountOfLastMonth=function(t){return new Date(t.getYear(),t.getMonth(),0).getDate()};var o=new a;e.a=o},19:function(t,e,n){"use strict";n.d(e,"h",function(){return s}),n.d(e,"f",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return _}),n.d(e,"l",function(){return f}),n.d(e,"j",function(){return m}),n.d(e,"k",function(){return g}),n.d(e,"i",function(){return h});var a=n(259),o=n.n(a),s="TASK_STATUS_000",i="TASK_STATUS_001",r="TASK_STATUS_002",l="TASK_STATUS_003",u="TASK_STATUS_004",c="TASK_STATUS_005",d=new o.a([[s,"待执行"],[i,"执行中"],[r,"已完成"],[l,"未完成"],[u,"延迟完成"],[c,"已完成"]]),_="DUTY_TIME_TYPE_ALL",f="DUTY_TIME_TYPE_SPECIFIC",m={PERMISSION_USER_ADD:"C_001_P_001",PERMISSION_USER_REMOVE:"C_001_P_002",PERMISSION_USER_EDIT:"C_001_P_003",PERMISSION_ROLE_ADD:"C_002_P_001",PERMISSION_ROLE_REMOVE:"C_002_P_002",PERMISSION_ROLE_EDIT:"C_002_P_003",PERMISSION_TASK_QUERY_ALL:"C_003_P_001",PERMISSION_TASK_EDIT_USER_TASK:"C_003_P_002",PERMISSION_TASK_QUERY_USER_LOCATION:"C_003_P_003",PERMISSION_TASK_APPROVE_TASK:"C_003_P_004",PERMISSION_TASK_ADD_TEMP_TASK:"C_003_P_005"},g={PERMISSION_CATEGORY_USER:"C_001",PERMISSION_CATEGORY_ROLE:"C_002",PERMISSION_CATEGORY_TASK:"C_003",PERMISSION_CATEGORY_PERMISSIONROLE:"C_004"},h={high:"重要",middle:"一般",low:"不重要"}},194:function(t,e,n){function a(t){n(327)}var o=n(9)(n(247),n(345),a,null,null);t.exports=o.exports},195:function(t,e,n){function a(t){n(329)}var o=n(9)(n(251),n(347),a,null,null);t.exports=o.exports},196:function(t,e,n){"use strict";var a=n(3),o=n(354),s=n(4),i=n(195),r=n.n(i),l=n(194),u=n.n(l),c=n(339),d=n.n(c),_=n(340),f=n.n(_),m=n(341),g=n.n(m),h=n(342),p=n.n(h),v=n(344),T=n.n(v);a.default.use(o.a),a.default.use(s.a);var E=new o.a({routes:[{path:"/",name:"userDayTask",component:r.a,meta:{keepAlive:!0}},{path:"/editTaskDetail/:task/:date",name:"editTaskDetailPage",component:u.a,meta:{keepAlive:!1}},{path:"/allUserTasksStat",name:"allUserTasksStat",component:d.a,meta:{keepAlive:!0}},{path:"/oneUserAllTaskStat/:selectedData",name:"oneUserAllTaskStat",component:f.a,meta:{keepAlive:!0}},{path:"/oneUserOneTaskStat/:selectedData",name:"oneUserOneTaskStat",component:g.a,meta:{keepAlive:!0}},{path:"/userCenter",name:"userCenter",component:p.a,meta:{keepAlive:!1}},{path:"/userMessage",name:"userMessage",component:T.a,meta:{keepAlive:!1}}]});E.beforeEach(function(t,e,n){console.log("router.beforeeach:"+t.fullPath),console.log(t.params),n()}),e.a=E},197:function(t,e,n){"use strict";var a=n(3),o=n(4),s=n(32),i=n(256),r=n(257),l=n(255);a.default.use(o.a);var u=new o.a.Store({state:s.a,getters:i.a,mutations:r.a,actions:l.a});e.a=u},199:function(t,e){},200:function(t,e){},201:function(t,e){},203:function(t,e,n){function a(t){n(330)}var o=n(9)(n(245),n(348),a,"data-v-25441132",null);t.exports=o.exports},245:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(343),l=n.n(r),u=n(195),c=n.n(u);e.default={name:"app",components:{MobileUserLogin:l.a,MobileUserDayTask:c.a},computed:o()({},n.i(s.b)(["datePickerOptionsDay","datePickerOptionsMonth","user","appTitle"])),created:function(){this.GET_ALL_PERMISSION_ROLE(),this.GET_ALL_PERMISSION(),this.GET_ALL_USER_ACCOUNT(),this.GET_ALL_ROLE(),this.GET_ALL_DUTY()},data:function(){return{selectedTab:"today_task"}},methods:o()({},n.i(s.c)([i.a,i.b,i.c,i.d,i.e,i.f,i.g]),{handleTabChange:function(t){this.selectedTab=t,"today_task"===t?this.$router.push({name:"userDayTask"}):"task_info"===t?this.$router.push({name:"allUserTasksStat"}):"notification"===t?this.$router.push({name:"userMessage"}):"user_center"===t&&this.$router.push({name:"userCenter"})}})}},246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(16),l=n(0),u=n.n(l),c=this;e.default={name:"table_manage_unfinished_data",methods:o()({tableRowClassName:function(t,e){return t.unfinish_count>0?"info-row":""},handleStartDateChange:function(t){console.log(t),console.log(u()().format("YYYY-MM-DD"))},itemClicked:function(t){this.selectedData={},this.selectedData.userid=t.value.userid,this.selectedData.startofday=r.a.getDatetimeSeconds(this.startQueryDate),this.selectedData.endofday=r.a.getDatetimeSeconds(this.endQueryDate),this.$router.push({name:"oneUserAllTaskStat",params:{selectedData:this.selectedData}})},getData:function(){var t={};t.starttime=r.a.getDatetimeSeconds(this.startQueryDate),t.endtime=r.a.getDatetimeSeconds(this.endQueryDate),this.GET_ALL_USER_TASK_EXEC_DATA_BY_DATERANGE(t)},showEditOver:function(){this.showEdit=!1}},n.i(s.c)([i.j,i.f,i.o,i.n])),computed:o()({},n.i(s.b)(["all_statistic_data","allUser","user"])),mounted:function(){this.getData()},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("安保统计报表")})},props:["datePickerOption"],data:function(){return{showEdit:!1,selectedData:{},selectedDay:new Date,startQueryDate:u()(1e3*r.a.getStartofThisMonth()).format("YYYY-MM-DD"),endQueryDate:u()().format("YYYY-MM-DD"),queryUser:c.user,datetime_type:"month"}},components:{}}},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(16);e.default={components:{},name:"duty_edit_panel",methods:o()({tableRowClassName:function(t,e){return""},commitEdit:function(){this.isCommitting=!0,this.getLocation()},cancelEdit:function(){this.$router.go(-1)},getLocation:function(){console.log("***************try to get location**************"),navigator.geolocation.getCurrentPosition(this.translateLoc,this.onGetLocationError,{timeout:3e3,enableHighAccuracy:!0})},commitInfo:function(t,e){var n=r.a.getNow();this.task.startofday=r.a.getStartOfTheday(this.selectedDay);var a={};a.taskid=this.task.taskid,a.userid=this.task.userid,a.startofday=this.task.startofday,a.realendtime=n,a.comment=this.task.comment,a.approve_status=this.task.approve_status,a.approve_user=this.task.approve_user,a.locationLat=t,a.locationLng=e,console.log(a),this.COMMIT_TASK_EXEC_INFO(a),this.isCommitting=!1,this.$router.go(-1)},translateLoc:function(t){console.log("***************got position**************");var e=t.coords.latitude,n=t.coords.longitude,a=new BMap.Point(n,e);BMap.Convertor.translate(a,0,this.setBaiduPoint)},setBaiduPoint:function(t){console.log("***************this is baidu point**************"),console.log(t),this.commitInfo(t.lat,t.lng)},onGetLocationError:function(t){console.log("get location error:"),console.log(t),this.commitInfo(0,0)}},n.i(s.c)([i.i,i.j])),computed:o()({},n.i(s.b)(["allRole","user"])),created:function(){},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("员工任务详情")})},data:function(){return{formLabelWidth:"120px",labelPosition:"right",selectedRoleName:[],task:this.$route.params.task,selectedDay:this.$route.params.date,isCommitting:!1}}}},248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(0),l=n.n(r),u=n(33);e.default={name:"table_user_daterange_task_stat",methods:o()({tableRowClassName:function(t,e){return""}},n.i(s.c)([i.n,i.j]),{itemClicked:function(t){this.selectedTask=t.value,this.selectedTask.startofday=this.selectedData.startofday,this.selectedTask.endofday=this.selectedData.endofday,this.$router.push({name:"oneUserOneTaskStat",params:{selectedData:this.selectedTask}})}}),computed:o()({},n.i(s.b)(["userDaterangeTask","user","datePickerOptionsDay","appTitle"]),{time_range:function(){return l()(1e3*this.selectedData.startofday).format("M月D日")+"到"+l()(1e3*this.selectedData.endofday).format("M月D日")},queryUser:function(){return u.a.getUserName(this.selectedData.userid)}}),created:function(){var t={};t.userid=this.selectedData.userid,t.startofday=this.selectedData.startofday,t.endofday=this.selectedData.endofday,this.GET_USER_TASK_EXEC_DATA_BY_DATERANGE(t)},beforeRouteLeave:function(t,e,n){this.$destroy(),n()},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("用户任务统计")})},props:[],data:function(){return{selectedData:this.$route.params.selectedData,selectedTask:{},showEdit:!1}},components:{}}},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(0),l=n.n(r),u=n(19),c=n(33),d=n(16),_=n(58);e.default={name:"table_user_day_task",methods:o()({tableRowClassName:function(t,e){var n=t;return n.finish_status===u.b||n.finish_status===u.c?"info-row":""}},n.i(s.c)([i.j,i.m]),{itemClicked:function(t){var e=_.a.clone(t.value);e.name=t.value.taskname,this.$router.push({name:"editTaskDetailPage",params:{task:e,date:d.a.getTheDay(e.startofday)}})}}),computed:o()({},n.i(s.b)(["taskExecDaterangeData","user","datePickerOptionsDay"]),{time_range:function(){return l()(1e3*this.selectedData.startofday).format("M月D日")+"到"+l()(1e3*this.selectedData.endofday).format("M月D日")},tasks:function(){var t=[];console.log(this.selectedData),console.log(this.taskExecDaterangeData);for(var e=0,n=this.taskExecDaterangeData.length;e<n;e++){var a=this.taskExecDaterangeData[e];a.executetime=l()(1e3*a.starttime).format("h:mm")+" 到 "+l()(1e3*a.endtime).format("h:mm"),a.realendtimeDisplay=0===a.realendtime?"":l()(1e3*a.realendtime).format("M月D日 hh:mm"),a.finish_status_display=u.a.get(a.finish_status),a.startofdayDisplay=l()(1e3*a.startofday).format("M月D日"),a.taskname=this.selectedData.taskname,a.taskid=this.selectedData.taskid,a.userid=this.selectedData.userid,console.log("%%%%%%%%%%%%%%%"),console.log(a),t.push(a)}return t},queryUser:function(){return c.a.getUserName(this.selectedData.userid)}}),mounted:function(){console.log("%%%%%%%%%%%%%%^^^^^^^^^^^^^^^"),console.log(this.selectedData),this.GET_ONE_TASK_EXEC_DATA_BY_DATERANGE(this.selectedData)},beforeRouteLeave:function(t,e,n){this.$destroy(),n()},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("用户任务["+t.selectedData.taskname+"]完成情况统计")})},props:[],data:function(){return{selectedDay:new Date,selectedUser:"000001",showEdit:!1,selectedTask:{},selectedData:this.$route.params.selectedData}},components:{}}},250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(58),l=n(33);e.default={name:"app",components:{},computed:o()({},n.i(s.b)(["user"]),{currentUser:function(){var t={};return t=r.a.clone(this.user),t.roleName=l.a.getRoleNames(this.user.role),t}}),data:function(){return{askLogout:!1}},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("个人中心")})},methods:o()({handleLogout:function(){this.askLogout=!0},closeLogoutDialog:function(){this.askLogout=!1},logout:function(){this.askLogout=!1,this.USER_LOGOUT()},handleChgPass:function(){}},n.i(s.c)([i.j,i.g]))}},251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(34),o=n.n(a),s=n(7),i=n.n(s),r=n(4),l=n(6),u=n(19),c=n(16),d=n(0),_=n.n(d),f=n(194),m=n.n(f);e.default={name:"mobile_user_day_task",methods:i()({tableRowClassName:function(t,e){var n=t;return n.finish_status===u.a.get(u.b)||n.finish_status===u.a.get(u.c)?"info-row":""}},n.i(r.c)([l.h,l.i]),{handleEdit:function(t){this.selectedTask=t,this.showEdit=!0},handleDaySelected:function(){this.getTaskExecData(c.a.getStartOfTheday(this.selectedDay))},getTaskExecData:function(t){var e={};e.userid=this.selectedUser,e.startofday=t,e.timeType=u.d,this.GET_TASK_EXEC_DATA_BY_DATE(e)},setIcon:function(t){t.finish_status===u.e?(t.icon="check_circle",t.iconBgColor="green"):t.finish_status===u.f?(t.icon="build",t.iconBgColor="blue"):t.finish_status===u.b?(t.icon="error",t.iconBgColor="red"):t.finish_status===u.c?(t.icon="assignment_late",t.iconBgColor="yellow"):t.finish_status===u.g?(t.icon="priority_high",t.iconBgColor="red"):t.finish_status===u.h&&(t.icon="assignment",t.iconBgColor="blue")}}),computed:i()({},n.i(r.b)(["userDayTask","user","datePickerOptionsDay"]),{dayTask:function(){for(var t=this.userDayTask,e=o()(t),n=0,a=e.length;n<a;n++)for(var s=e[n],i=0,r=t[s].length;i<r;i++){var l=t[s][i];l.executetime=_()(1e3*l.starttime).format("H:mm")+" 到 "+_()(1e3*l.endtime).format("H:mm"),l.realendtimeDisplay=0===l.realendtime?"":_()(1e3*l.realendtime).format("M月D日 H:mm"),l.finish_status_display=u.a.get(l.finish_status),this.setIcon(l)}return t},selectedUser:function(){return this.user._id}}),watch:{selectedUser:function(t,e){this.getTaskExecData(c.a.getStartOfTheday(this.selectedDay))}},mounted:function(){this.getTaskExecData(c.a.getStartOfTheday(this.selectedDay))},data:function(){return{selectedDay:new Date,selectedTask:{}}},components:{MobileEditTaskDetail:m.a}}},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6);e.default={name:"app",components:{},computed:{},data:function(){return{user_login_data:{userid:"",pass:""}}},methods:o()({},n.i(s.c)([i.k]),{commitlogin:function(){this.USER_LOGIN(this.user_login_data),this.user_login_data={userid:"",pass:""}},cancellogin:function(){this.user_login_data={userid:"",pass:""}}})}},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(7),o=n.n(a),s=n(4),i=n(6),r=n(0),l=n.n(r),u=n(19);e.default={name:"mobile_user_message_list",methods:o()({tableRowClassName:function(t,e){return t.unfinish_count>0?"info-row":""},itemClicked:function(t){},getData:function(){this.GET_INFORM_BY_USER()},showEditOver:function(){this.showEdit=!1},getPriorityIcon:function(t){return"high"===t.notifyPriority?"error":"middle"===t.notifyPriority?"warning":"email"},getPriorityIconColor:function(t){return"high"===t.notifyPriority?"red":"middle"===t.notifyPriority?"yellow":"green"}},n.i(s.c)([i.j,i.l])),computed:o()({},n.i(s.b)(["userInform"]),{messages:function(){for(var t=[],e=0,n=this.userInform.length;e<n;e++){var a=this.userInform[e];"after"===a.notifyTimeType?a.msgContent="应该于"+l()(1e3*a.realendtime).format("H:mm")+"完成执行.":a.msgContent="将于"+l()(1e3*a.realstarttime).format("H:mm")+"开始执行.",a.msgArriveTimeDisplay=l()(1e3*a.informSendTime).format("YY年M月D日 H:mm"),a.msgPriorityDisplay=u.i[a.notifyPriority],t.push(a)}return t}}),mounted:function(){this.getData()},beforeRouteEnter:function(t,e,n){n(function(t){t.CHANGE_APP_TITLE("我的消息通知")})},props:[],data:function(){return{selectedData:{}}},components:{}}},254:function(t,e,n){"use strict";function a(){console.log("going to get user inform...."),setTimeout(function(){""!==g.a.state.user._id&&g.a.dispatch("GET_INFORM_BY_USER"),a()},12e4)}function o(){console.log("$$$$$$$$$ try to get location $$$$$$$$$$$$$"),setTimeout(function(){""!==g.a.state.user._id&&navigator.geolocation.getCurrentPosition(s,r,{timeout:3e3,enableHighAccuracy:!0}),o()},3e4)}function s(t){var e=t.coords.latitude,n=t.coords.longitude,a=new BMap.Point(n,e);BMap.Convertor.translate(a,0,i)}function i(t){if(console.log("$$$$$$$$$ this is baidu point $$$$$$$$$$$$"),console.log(t),""!==g.a.state.user._id){var e={};e.user_id=g.a.state.user._id,e.locationLat=t.lat,e.locationLng=t.lng,g.a.dispatch("UPSERT_USER_LOCATION",e)}}function r(t){console.log("get location error:"),console.log(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=n(3),u=n(202),c=n.n(u),d=n(203),_=n.n(d),f=n(4),m=n(196),g=n(197),h=n(204),p=n.n(h),v=n(198),T=n.n(v),E=n(199),y=(n.n(E),n(200)),D=(n.n(y),n(201));n.n(D);l.default.use(T.a),l.default.use(f.a),l.default.use(c.a),l.default.use(p.a),l.default.config.productionTip=!1;var S={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){console.log("******************************** device is ready"),S.pluginInitialize()},receivedEvent:function(t){var e=document.getElementById(t),n=e.querySelector(".listening"),a=e.querySelector(".received");n.setAttribute("style","display:none;"),a.setAttribute("style","display:block;"),console.log("Received Event: "+t)},pluginInitialize:function(){var t=cordova.plugins.backgroundMode;t.setDefaults({color:"F14F4D"}),t.overrideBackButton(),t.on("activate",S.onModeActivated),t.on("deactivate",S.onModeDeactivated),t.on("enable",S.onModeEnabled),t.on("disable",S.onModeDisabled),console.log("******************************** background mode set enable"),t.enable()},timer:null,onModeActivated:function(){console.log("background mode activated !!!!!");var t=0;plugin.disableWebViewOptimizations(),S.timer=setInterval(function(){console.log("background timer is running !!!!!"),console.log(t),t++,console.log("Running since "+t+" sec"),cordova.plugins.notification.badge.set(t),t%15==0&&(cordova.plugins.backgroundMode.configure({text:"Running since "+t+" sec"}),navigator.vibrate&&navigator.vibrate(1e3))},1e3)},onModeDeactivated:function(){console.log("background mode de-activated !!!!!"),cordova.plugins.notification.badge.clear(),clearInterval(S.timer)},onModeEnabled:function(){console.log("******************************** background mode enabled"),a(),o()},onModeDisabled:function(){}};S.initialize(),new l.default({el:"#app",router:m.a,store:g.a,template:"<App/>",components:{App:_.a}})},255:function(t,e,n){"use strict";function a(t){401===t.response.status&&(c.a.user._id="")}var o,s=n(262),i=n.n(s),r=n(226),l=n.n(r),u=n(6),c=n(32),d=n(16);l.a.defaults.baseURL=c.a.backend_uri,l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",l.a.defaults.headers.post["X-Requested-With"]="XMLHttpRequest";var _=(o={},i()(o,u.k,function(t,e){l.a.post("/user/user_login",e).then(function(e){console.log("user login"),console.log(e.data),t.commit("SET_USER",e.data)}).catch(a)}),i()(o,u.g,function(t,e){var n={};n._id="",n.name="",t.commit("SET_USER",n)}),i()(o,u.p,function(t,e){t.state.changePassFail=!0,l.a.post("/user/change_pass",e).then(function(e){0!==e.data.status?t.state.changePassFail=!0:t.state.changePassFail=!1}).catch(a)}),i()(o,u.j,function(t,e){t.state.appTitle=e}),i()(o,u.q,function(t,e){t.state.active_menu=e.active_menu}),i()(o,u.r,function(t,e){console.log("user birthday:"+e.birthday),l.a.post("/management/upsert_user",e).then(function(e){l.a.get("/management/query_all_user").then(function(e){t.commit("SET_ALL_USER_ACCOUNT",e.data)}).catch(a)}).catch(a)}),i()(o,u.a,function(t,e){l.a.get("/management/query_all_user").then(function(e){console.log("get all user:"),console.log(e.data),t.commit("SET_ALL_USER_ACCOUNT",e.data)}).catch(a)}),i()(o,u.s,function(t,e){l.a.post("/management/remove_user",e).then(function(n){console.log("remove users:"+e),console.log(n.data),l.a.get("/management/query_all_user").then(function(e){t.commit("SET_ALL_USER_ACCOUNT",e.data)}).catch(a)})}),i()(o,u.t,function(t,e){l.a.get("/management/query_all_user_group").then(function(e){t.commit("SET_ALL_USER_GROUP",e.data)}).catch(a)}),i()(o,u.u,function(t,e){l.a.post("/management/upsert_user_group",e).then(function(e){t.dispatch(u.t)}).catch(a)}),i()(o,u.v,function(t,e){l.a.post("/management/remove_user_group",e).then(function(e){t.dispatch(u.t)}).catch(a)}),i()(o,u.b,function(t,e){console.log("get all role!!!"),l.a.get("/management/query_all_role").then(function(e){console.log("get all roles"),t.commit("SET_ALL_ROLE",e.data)}).catch(a)}),i()(o,u.w,function(t,e){l.a.post("/management/upsert_role",e).then(function(e){console.log(e.data),l.a.get("/management/query_all_role").then(function(e){console.log("get all roles"),t.commit("SET_ALL_ROLE",e.data)}).catch(a)}).catch(a)}),i()(o,u.x,function(t,e){l.a.post("/management/remove_role",e).then(function(n){console.log("remove roles:"+e),console.log(n.data),l.a.get("/management/query_all_role").then(function(e){t.commit("SET_ALL_ROLE",e.data)}).catch(a)})}),i()(o,u.e,function(t,e){console.log("get all permission role!!!"),l.a.get("/management/query_all_permission_role").then(function(e){console.log("get all permission roles"),t.commit("SET_ALL_PERMISSION_ROLE",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.y,function(t,e){l.a.post("/management/upsert_permission_role",e).then(function(e){console.log(e.data),l.a.get("/management/query_all_permission_role").then(function(e){console.log("get all permission roles"),t.commit("SET_ALL_PERMISSION_ROLE",e.data)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}),i()(o,u.z,function(t,e){l.a.post("/management/remove_permission_role",e).then(function(e){console.log(e.data),l.a.get("/management/query_all_permission_role").then(function(e){console.log("get all permission roles"),t.commit("SET_ALL_PERMISSION_ROLE",e.data)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}),i()(o,u.d,function(t,e){l.a.get("/management/query_all_permission").then(function(e){console.log("et all permission"),console.log(e.data),t.commit("SET_ALL_PERMISSION",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.c,function(t,e){l.a.get("/management/query_all_duty_category ").then(function(e){t.commit("SET_ALL_DUTY_CATEGORY",e.data),l.a.get("/management/query_all_duty").then(function(e){console.log("get all duty"),console.log(e.data),t.commit("SET_ALL_DUTY",e.data)}).catch(a)}).catch(a)}),i()(o,u.A,function(t,e){l.a.post("/duty/query_duty_by_user",{userid:t.state.user._id}).then(function(e){console.log("get data by user:"),console.log(e.data),t.commit("SET_USER_DUTY_DATA",e.data)}).catch(a)}),i()(o,u.B,function(t,e){l.a.post("/management/upsert_duty",e).then(function(e){console.log(e.data),l.a.get("/management/query_all_duty").then(function(e){console.log("get all duties"),t.commit("SET_ALL_DUTY",e.data)}).catch(a),t.dispatch(u.a)}).catch(a)}),i()(o,u.C,function(t,e){l.a.post("/management/remove_duty",e).then(function(n){console.log("remove duties:"+e),console.log(n.data),l.a.get("/management/query_all_duty").then(function(e){t.commit("SET_ALL_DUTY",e.data)}).catch(a)})}),i()(o,u.D,function(t,e){l.a.get("/management/query_all_duty_category ").then(function(e){t.commit("SET_ALL_DUTY_CATEGORY",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.E,function(t,e){l.a.post("/management/upsert_duty_category",e).then(function(e){t.dispatch(u.D)}).catch(function(t){console.log(t)})}),i()(o,u.F,function(t,e){l.a.post("/management/remove_duty_category",e).then(function(e){t.dispatch(u.D)})}),i()(o,u.i,function(t,e){l.a.post("/user/commit_task_exec_info",e).then(function(n){console.log(n.data);var a={};a.userid=e.userid,a.startofday=e.startofday,a.timeType=e.timeType,l.a.post("/user/get_task_exec_info_by_date",a).then(function(e){t.commit("SET_USER_DUTY_EXEC_DATA",e.data)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}),i()(o,u.f,function(t,e){l.a.post("/manager/get_all_user_task_exec_stat_by_time",e).then(function(e){console.log("get all statistic data"),console.log(e.data),t.commit("SET_ALL_STATISTIC_DATA",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.o,function(t,e){l.a.post("/manager/get_all_user_task_exec_stat_by_date_range",e).then(function(e){console.log("get all statistic data"),console.log(e.data),t.commit("SET_ALL_STATISTIC_DATA",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.h,function(t,e){console.log("GET_TASK_EXEC_DATA_BY_DATE"),console.log(e),l.a.post("/user/mobile_get_task_exec_info_by_date",e).then(function(e){console.log(e.data),console.log("update user duty data"),t.commit("SET_USER_DUTY_EXEC_DATA",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.n,function(t,e){console.log("GET_USER_TASK_EXEC_DATA_BY_DATERANGE"),console.log(e),l.a.post("/user/get_user_task_exec_info_by_daterange",e).then(function(e){t.commit("SET_USER_TASK_EXEC_DATA_BY_DATERANGE",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.m,function(t,e){console.log("GET_ONE_TASK_EXEC_DATA_BY_DATERANGE"),console.log(e),l.a.post("/user/get_one_task_exec_info_by_daterange",e).then(function(e){t.commit("SET_ONE_TASK_EXEC_DATA_BY_DATERANGE",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.G,function(t,e){l.a.get("/management/query_all_user_location ").then(function(e){t.commit("SET_ALL_USER_LOCATION",e.data)}).catch(function(t){console.log(t)})}),i()(o,u.H,function(t,e){console.log("upsert user location:"),console.log(e),l.a.post("/management/upsert_user_location",e).then(function(e){t.dispatch(u.G)}).catch(function(t){console.log(t)})}),i()(o,u.I,function(t,e){l.a.get("/inform/query_all_inform ").then(function(e){t.commit("SET_ALL_INFORM",e.data)}).catch(a)}),i()(o,u.l,function(t,e){console.log("query inform by user:::::::"),l.a.post("/inform/query_inform_by_user",{userid:t.state.user._id,queryTime:d.a.getNow(),startofday:d.a.getStartOfToday()}).then(function(e){console.log("get inform by user:"),console.log(e.data),t.commit("SET_USER_INFORM_DATA",e.data)}).catch(a)}),i()(o,u.J,function(t,e){l.a.post("/inform/upsert_inform",e).then(function(e){t.dispatch(u.I)}).catch(a)}),i()(o,u.K,function(t,e){l.a.post("/inform/remove_inform",e).then(function(e){t.dispatch(u.I)})}),o);e.a=_},256:function(t,e,n){"use strict";var a={appTitle:function(t){return t.appTitle},active_menu:function(t){return t.active_menu},sessionToken:function(t){return t.sessionToken},user:function(t){return t.user},backend_uri:function(t){return t.backend_uri},allUser:function(t){return t.allUser},allUserGroup:function(t){return t.allUserGroup},allUserLocation:function(t){return t.allUserLocation},allRole:function(t){return t.allRole},allPermissionRole:function(t){return t.allPermissionRole},allPermission:function(t){return t.allPermission},allTask:function(t){return t.allTask},allDuty:function(t){return t.allDuty},allDutyCategory:function(t){return t.allDutyCategory},dutyForRoles:function(t){return t.dutyForRoles},allInform:function(t){return t.allInform},userInform:function(t){return t.userInform},all_statistic_data:function(t){return t.all_statistic_data},userDayTask:function(t){return t.userDayTask},userDaterangeTask:function(t){return t.userDaterangeTask},taskExecDaterangeData:function(t){return t.taskExecDaterangeData},datePickerOptionsDay:function(t){return t.datePickerOptionsDay},datePickerOptionsMonth:function(t){return t.datePickerOptionsMonth},changePassFail:function(t){return t.changePassFail}};e.a=a},257:function(t,e,n){"use strict";var a=n(34),o=n.n(a),s=n(19),i=n(0),r=n.n(i),l=n(16),u={SET_USER:function(t,e){t.user=e},SET_ALL_STATISTIC_DATA:function(t,e){console.log("begin set all unfinished data"),t.all_statistic_data=[];for(var n=0,a=e.length;n<a;n++){var o={};o.userid=e[n].userid,o.username=e[n].username,o.role=e[n].role,o.unfinish_count=e[n].unfinish_count,console.log("insert: "+o),t.all_statistic_data.push(o)}},SET_USER_DUTY_DATA:function(t,e){console.log("begin set user query data"),t.userDayTask=[];for(var n=0,a=e.length;n<a;n++){var o=l.a.getStartOfToday(),i={};i.no=n+1,i._id=e[n]._id,i.descr=e[n].descr,i.name=e[n].name,e[n].timeType===s.l?(i.starttime=e[n].starttime,i.endtime=e[n].endtime):(i.starttime=e[n].starttime+o,i.endtime=e[n].endtime+o);var u=r()(1e3*i.starttime).format("H:mm"),c=r()(1e3*i.endtime).format("H:mm");i.executetime=u+" 至 "+c,console.log("insert: "+i),t.userDayTask.push(i)}},UPDATE_USER_DUTY_EXEC_DATA:function(t,e){for(var n=l.a.getStartOfToday(),a=(new Date).getTime()/1e3,o=0,i=t.userDayTask.length;o<i;o++)for(var r=t.userDayTask[o],u=0,c=e.length;u<c;u++)if(r._id===e[u].duty_id){r.realendtime=e[u].realendtime,r.comment=e[u].comment,r.startofday=e[u].startofday;var d=r.starttime+n,_=r.endtime+n;0===r.realendtime?r.finish_status=d>a?s.h:_>a?s.f:s.b:r.realendtime>_+600?r.finish_status=s.c:r.finish_status=s.e;break}},SET_USER_DUTY_EXEC_DATA:function(t,e){var n=l.a.getNow();t.userDayTask=e;var a=o()(t.userDayTask);console.log("5555555555555555555555"),console.log(a.length);for(var i=l.a.getStartOfToday()-86400,r=0,u=a.length;r<u;r++)for(var c=a[r],d=t.userDayTask[c],_=0,f=d.length;_<f;_++){var m=d[_];m.starttime+=i,m.endtime+=i;var g=m.starttime-i+m.startofday,h=m.endtime-i+m.startofday;0===m.realendtime?m.finish_status=g>n?s.h:h>n?s.f:s.b:m.realendtime-m.startofday>=86400?m.finish_status=s.b:m.realendtime>h+600?m.finish_status=s.c:m.finish_status=s.e}console.log(t.userDayTask)},SET_USER_TASK_EXEC_DATA_BY_DATERANGE:function(t,e){t.userDaterangeTask=e},SET_ONE_TASK_EXEC_DATA_BY_DATERANGE:function(t,e){console.log(e),t.taskExecDaterangeData=e;for(var n=l.a.getNow(),a=0,o=t.taskExecDaterangeData.length;a<o;a++){var i=t.taskExecDaterangeData[a];i.realendtime=e[a].realendtime,i.comment=e[a].comment,i.startofday=e[a].startofday;var r=i.starttime+i.startofday,u=i.endtime+i.startofday;0===i.realendtime?i.finish_status=r>n?s.h:u>n?s.f:s.b:i.realendtime>u+600?i.finish_status=s.c:i.finish_status=s.e}},SET_ALL_USER_ACCOUNT:function(t,e){console.log("set all user account:"+e.length),t.allUser=e},SET_ALL_USER_GROUP:function(t,e){console.log("set all user group:"+e.length),t.allUserGroup=e},SET_ALL_ROLE:function(t,e){console.log("set all roles"),t.allRole=e},SET_ALL_PERMISSION_ROLE:function(t,e){console.log("set all permission roles"),t.allPermissionRole=e},SET_ALL_PERMISSION:function(t,e){console.log("set all permission"),t.allPermission={};for(var n=0,a=e.length;n<a;n++)t.allPermission[e[n].categoryid]={},t.allPermission[e[n].categoryid].permissions=e[n].permissions,t.allPermission[e[n].categoryid].categoryName=e[n].categoryName;console.log(t.allPermission)},SET_ALL_TASK:function(t,e){console.log("set all tasks"),t.allTask=e},SET_ALL_DUTY:function(t,e){t.allDuty=e;for(var n=0,a=t.allDuty.length;n<a;n++){var o=t.allDuty[n],i=l.a.getStartOfToday()-86400;o.timeType!==s.l&&(o.starttime+=i,o.endtime+=i)}t.dutyForRoles={};for(var r=0,u=t.allRole.length;r<u;r++){for(var c=t.allRole[r],d=[],_=0,f=t.allDuty.length;_<f;_++)t.allDuty[_].roles.indexOf(c._id)>=0&&d.push(t.allDuty[_]);t.dutyForRoles[c._id]=d}},SET_ALL_DUTY_CATEGORY:function(t,e){t.allDutyCategory=e},SET_ALL_USER_LOCATION:function(t,e){t.allUserLocation=e},SET_ALL_INFORM:function(t,e){t.allInform=e},SET_USER_INFORM_DATA:function(t,e){t.userInform=e}};e.a=u},258:function(t,e,n){"use strict";function a(){}a.prototype.in_array=function(t,e){if(void 0===t||void 0===e)return!1;for(var n=0,a=e.length;n<a;n++)if(t===e[n])return!0;return!1},a.prototype.diff=function(t,e){return t.filter(function(t){return e.indexOf(t)<0})},a.prototype.remove=function(t,e){var n=e.indexOf(t);n>-1&&e.splice(n,1)};var o=new a;e.a=o},32:function(t,e,n){"use strict";var a=n(16),o={sessionToken:"",user:{_id:""},appTitle:"幼儿园安保系统",active_menu:"",allUser:[],allUserGroup:[],allUserLocation:[],allRole:[],allPermissionRole:[],allPermission:{},allTask:[],allDuty:[],allDutyCategory:[],dutyForRoles:{},allInform:[],userInform:[],backend_uri:"https://47.94.192.237:7070",all_statistic_data:[],userDayTask:[],userDaterangeTask:[],taskExecDaterangeData:[],userDayTaskQueryDate:0,datePickerOptionsDay:{shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",1e3*a.a.getStartOfToday())}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(1e3*(a.a.getStartOfToday()-86400)),t.$emit("pick",e)}},{text:"前天",onClick:function(t){var e=new Date;e.setTime(1e3*(a.a.getStartOfToday()-172800)),t.$emit("pick",e)}}],disabledDate:function(t){return t.getTime()>(new Date).getTime()}},datePickerOptionsMonth:{shortcuts:[{text:"这个月",onClick:function(t){var e=a.a.getStartofThisMonth(),n=a.a.getStartOfToday()-1;t.$emit("pick",[e,n])}},{text:"上个月",onClick:function(t){var e=new Date,n=a.a.getStartofThisMonth()-86400*a.a.getDayCountOfLastMonth(e.getYear(),e.getMonth()),o=a.a.getStartofThisMonth()-1;t.$emit("pick",[n,o])}}]},changePassFail:!1};e.a=o},327:function(t,e){},328:function(t,e){},329:function(t,e){},33:function(t,e,n){"use strict";function a(){}var o=n(34),s=n.n(o),i=n(19),r=n(32),l=n(258);a.prototype.getUserName=function(t){for(var e=0,n=r.a.allUser.length;e<n;e++)if(r.a.allUser[e]._id===t)return r.a.allUser[e].name;return""},a.prototype.getUserNames=function(t){for(var e=[],n=0,a=r.a.allUser.length;n<a;n++)l.a.in_array(r.a.allUser[n]._id,t)&&e.push(r.a.allUser[n].name);return e},a.prototype.getRoleName=function(t){for(var e=0,n=r.a.allRole.length;e<n;e++)if(r.a.allRole[e]._id===t)return r.a.allRole[e].name;return""},a.prototype.getRoleNames=function(t){for(var e=[],n=0,a=r.a.allRole.length;n<a;n++)l.a.in_array(r.a.allRole[n]._id,t)&&e.push(r.a.allRole[n].name);return e},a.prototype.getRoleId=function(t){for(var e=0,n=r.a.allRole.length;e<n;e++)if(r.a.allRole[e].name===t)return r.a.allRole[e]._id;return""},a.prototype.getDutyName=function(t){for(var e=0,n=r.a.allDuty.length;e<n;e++)if(r.a.allDuty[e]._id===t)return r.a.allDuty[e].name;return""},a.prototype.getRoleById=function(t){for(var e=0,n=r.a.allRole.length;e<n;e++)if(r.a.allRole[e]._id===t)return r.a.allRole[e];return null},a.prototype.getDutiesByRoleId=function(t){for(var e=[],n=0,a=r.a.allDuty.length;n<a;n++)l.a.in_array(t,r.a.allDuty[n].roles)&&e.push(r.a.allDuty[n]);return e},a.prototype.getDutyCategoryNameById=function(t){for(var e=0,n=r.a.allDutyCategory.length;e<n;e++)if(r.a.allDutyCategory[e]._id===t)return console.log("get name:"),r.a.allDutyCategory[e].name;return""},a.prototype.getPermissionIdByName=function(t,e){for(var n=s()(e),a=0;a<n.length;a++)for(var o=e[n[a]].permissions,i=0;i<o.length;i++)if(o[i].name===t)return o[i].id;return""},a.prototype.getPermissionRoleByName=function(t){for(var e=0;e<r.a.allPermissionRole.length;e++)if(t===r.a.allPermissionRole[e].name)return r.a.allPermissionRole[e];return null},a.prototype.getPermissionRoleById=function(t){for(var e=0;e<r.a.allPermissionRole.length;e++)if(t===r.a.allPermissionRole[e]._id)return r.a.allPermissionRole[e];return null},a.prototype.hasPermission=function(t){for(var e=i.j[t],n=r.a.user.role,a=0;a<r.a.allRole.length;a++){var o=r.a.allRole[a];if(l.a.in_array(o._id,n))for(var s=o.permissionRoles,u=0;u<s.length;u++){var c=this.getPermissionRoleById(s[u]);if(c)for(var d=0;d<c.permissions.length;d++)if(c.permissions[d]===e)return!0}}return!1},a.prototype.hasCategoryPermission=function(t){var e=i.k[t];if(("C_004"===e||"C_002"===e)&&"admin"===r.a.user._id)return!0;for(var n=r.a.user.role,a=void 0===r.a.allPermission[e]?[]:r.a.allPermission[e].permissions,o=0;o<r.a.allRole.length;o++){var s=r.a.allRole[o];if(l.a.in_array(s._id,n))for(var u=s.permissionRoles,c=0;c<u.length;c++){var d=this.getPermissionRoleById(u[c]);if(d)for(var _=0;_<d.permissions.length;_++)for(var f=0;f<a.length;f++)if(d.permissions[_]===a[f].id)return!0}}return!1},a.prototype.getLocationDisplay=function(t,e){return"园内"};var u=new a;e.a=u},330:function(t,e){},331:function(t,e){},332:function(t,e){},333:function(t,e){},334:function(t,e){},335:function(t,e){},337:function(t,e,n){function a(t){return n(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./af":78,"./af.js":78,"./ar":85,"./ar-dz":79,"./ar-dz.js":79,"./ar-kw":80,"./ar-kw.js":80,"./ar-ly":81,"./ar-ly.js":81,"./ar-ma":82,"./ar-ma.js":82,"./ar-sa":83,"./ar-sa.js":83,"./ar-tn":84,"./ar-tn.js":84,"./ar.js":85,"./az":86,"./az.js":86,"./be":87,"./be.js":87,"./bg":88,"./bg.js":88,"./bn":89,"./bn.js":89,"./bo":90,"./bo.js":90,"./br":91,"./br.js":91,"./bs":92,"./bs.js":92,"./ca":93,"./ca.js":93,"./cs":94,"./cs.js":94,"./cv":95,"./cv.js":95,"./cy":96,"./cy.js":96,"./da":97,"./da.js":97,"./de":100,"./de-at":98,"./de-at.js":98,"./de-ch":99,"./de-ch.js":99,"./de.js":100,"./dv":101,"./dv.js":101,"./el":102,"./el.js":102,"./en-au":103,"./en-au.js":103,"./en-ca":104,"./en-ca.js":104,"./en-gb":105,"./en-gb.js":105,"./en-ie":106,"./en-ie.js":106,"./en-nz":107,"./en-nz.js":107,"./eo":108,"./eo.js":108,"./es":110,"./es-do":109,"./es-do.js":109,"./es.js":110,"./et":111,"./et.js":111,"./eu":112,"./eu.js":112,"./fa":113,"./fa.js":113,"./fi":114,"./fi.js":114,"./fo":115,"./fo.js":115,"./fr":118,"./fr-ca":116,"./fr-ca.js":116,"./fr-ch":117,"./fr-ch.js":117,"./fr.js":118,"./fy":119,"./fy.js":119,"./gd":120,"./gd.js":120,"./gl":121,"./gl.js":121,"./gom-latn":122,"./gom-latn.js":122,"./he":123,"./he.js":123,"./hi":124,"./hi.js":124,"./hr":125,"./hr.js":125,"./hu":126,"./hu.js":126,"./hy-am":127,"./hy-am.js":127,"./id":128,"./id.js":128,"./is":129,"./is.js":129,"./it":130,"./it.js":130,"./ja":131,"./ja.js":131,"./jv":132,"./jv.js":132,"./ka":133,"./ka.js":133,"./kk":134,"./kk.js":134,"./km":135,"./km.js":135,"./kn":136,"./kn.js":136,"./ko":137,"./ko.js":137,"./ky":138,"./ky.js":138,"./lb":139,"./lb.js":139,"./lo":140,"./lo.js":140,"./lt":141,"./lt.js":141,"./lv":142,"./lv.js":142,"./me":143,"./me.js":143,"./mi":144,"./mi.js":144,"./mk":145,"./mk.js":145,"./ml":146,"./ml.js":146,"./mr":147,"./mr.js":147,"./ms":149,"./ms-my":148,"./ms-my.js":148,"./ms.js":149,"./my":150,"./my.js":150,"./nb":151,"./nb.js":151,"./ne":152,"./ne.js":152,"./nl":154,"./nl-be":153,"./nl-be.js":153,"./nl.js":154,"./nn":155,"./nn.js":155,"./pa-in":156,"./pa-in.js":156,"./pl":157,"./pl.js":157,"./pt":159,"./pt-br":158,"./pt-br.js":158,"./pt.js":159,"./ro":160,"./ro.js":160,"./ru":161,"./ru.js":161,"./sd":162,"./sd.js":162,"./se":163,"./se.js":163,"./si":164,"./si.js":164,"./sk":165,"./sk.js":165,"./sl":166,"./sl.js":166,"./sq":167,"./sq.js":167,"./sr":169,"./sr-cyrl":168,"./sr-cyrl.js":168,"./sr.js":169,"./ss":170,"./ss.js":170,"./sv":171,"./sv.js":171,"./sw":172,"./sw.js":172,"./ta":173,"./ta.js":173,"./te":174,"./te.js":174,"./tet":175,"./tet.js":175,"./th":176,"./th.js":176,"./tl-ph":177,"./tl-ph.js":177,"./tlh":178,"./tlh.js":178,"./tr":179,"./tr.js":179,"./tzl":180,"./tzl.js":180,"./tzm":182,"./tzm-latn":181,"./tzm-latn.js":181,"./tzm.js":182,"./uk":183,"./uk.js":183,"./ur":184,"./ur.js":184,"./uz":186,"./uz-latn":185,"./uz-latn.js":185,"./uz.js":186,"./vi":187,"./vi.js":187,"./x-pseudo":188,"./x-pseudo.js":188,"./yo":189,"./yo.js":189,"./zh-cn":190,"./zh-cn.js":190,"./zh-hk":191,"./zh-hk.js":191,"./zh-tw":192,"./zh-tw.js":192};a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id=337},339:function(t,e,n){function a(t){n(333)}var o=n(9)(n(246),n(351),a,null,null);t.exports=o.exports},340:function(t,e,n){function a(t){n(332)}var o=n(9)(n(248),n(350),a,null,null);t.exports=o.exports},341:function(t,e,n){function a(t){n(328)}var o=n(9)(n(249),n(346),a,null,null);t.exports=o.exports},342:function(t,e,n){function a(t){n(335)}var o=n(9)(n(250),n(353),a,"data-v-ed996dec",null);t.exports=o.exports},343:function(t,e,n){function a(t){n(334)}var o=n(9)(n(252),n(352),a,"data-v-e9bb7d78",null);t.exports=o.exports},344:function(t,e,n){function a(t){n(331)}var o=n(9)(n(253),n(349),a,null,null);t.exports=o.exports},345:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-text-field",{attrs:{label:"任务名称",disabled:""},model:{value:t.task.name,callback:function(e){t.task.name=e},expression:"task.name"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{label:"任务执行时间",disabled:""},model:{value:t.task.executetime,callback:function(e){t.task.executetime=e},expression:"task.executetime"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{directives:[{name:"show",rawName:"v-show",value:0!==t.task.realendtime,expression:"task.realendtime !== 0"}],attrs:{label:"任务实际完成时间",disabled:""},model:{value:t.task.realendtimeDisplay,callback:function(e){t.task.realendtimeDisplay=e},expression:"task.realendtimeDisplay"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{label:"未完成原因",multiLine:"",rows:2,rowsMax:4},model:{value:t.task.comment,callback:function(e){t.task.comment=e},expression:"task.comment"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{label:"完成状态",disabled:""},model:{value:t.task.finish_status_display,callback:function(e){t.task.finish_status_display=e},expression:"task.finish_status_display"}}),t._v(" "),n("br"),t._v(" "),n("mu-select-field",{attrs:{label:"工作审批",hintText:"待审批",disabled:this.task.userid===this.user._id},model:{value:t.task.approve_status,callback:function(e){t.task.approve_status=e},expression:"task.approve_status"}},[n("mu-menu-item",{attrs:{value:"0",title:"个人原因"}}),t._v(" "),n("mu-menu-item",{attrs:{value:"1",title:"工作安排"}})],1),t._v(" "),n("br"),t._v(" "),n("div",[n("mu-raised-button",{staticClass:"raised-button",staticStyle:{display:"inline-block"},attrs:{label:"取消"},on:{click:t.cancelEdit}}),t._v(" "),n("mu-raised-button",{staticClass:"raised-button",staticStyle:{display:"inline-block"},attrs:{label:0!==t.task.realendtime?"提交":"完成",backgroundColor:"green"},on:{click:t.commitEdit}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isCommitting,expression:"isCommitting"}]},[n("div",{staticClass:"v-modal",staticStyle:{"z-index":"2019",width:"100%",height:"100%"},attrs:{tabindex:"0"}}),t._v(" "),n("div",{staticStyle:{position:"absolute",top:"50%",left:"50%","margin-top":"-30px","margin-left":"-30px"}},[n("mu-circular-progress",{staticStyle:{"z-index":"2020"},attrs:{size:60,strokeWidth:5}})],1)])],1)},staticRenderFns:[]}},346:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-list",[n("mu-list-item",{attrs:{title:t.queryUser}},[n("mu-icon",{attrs:{value:"person",size:32},slot:"left"})],1),t._v(" "),n("mu-list-item",{attrs:{title:t.time_range}},[n("mu-icon",{attrs:{value:"date_range",size:32},slot:"left"})],1)],1),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",{on:{itemClick:t.itemClicked}},t._l(t.tasks,function(e){return n("mu-list-item",{attrs:{title:e.startofdayDisplay,describeText:e.realendtimeDisplay,value:e,afterText:e.finish_status_display}},[n("mu-avatar",{attrs:{icon:"work"},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"chevron_right"},slot:"right"})],1)}))],1)},staticRenderFns:[]}},347:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("日任务列表")]),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",[n("mu-sub-header",[t._v("日常职责")]),t._v(" "),t._l(t.dayTask.DUTY_TIME_TYPE_ROUTINE,function(e){return n("router-link",{attrs:{to:{name:"editTaskDetailPage",params:{task:e,date:t.selectedDay}}}},[n("mu-list-item",{attrs:{title:e.name,describeText:e.executetime}},[n("mu-avatar",{attrs:{icon:e.icon,backgroundColor:e.iconBgColor},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"info"},slot:"right"})],1)],1)})],2),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",[n("mu-sub-header",[t._v("定期职责")]),t._v(" "),t._l(t.dayTask.DUTY_TIME_TYPE_PERIODICAL,function(e){return n("router-link",{attrs:{to:{name:"editTaskDetailPage",params:{task:e,date:t.selectedDay}}}},[n("mu-list-item",{attrs:{title:e.name,describeText:e.executetime}},[n("mu-avatar",{attrs:{icon:e.icon,backgroundColor:e.iconBgColor},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"info"},slot:"right"})],1)],1)})],2),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",[n("mu-sub-header",[t._v("特定日期职责")]),t._v(" "),t._l(t.dayTask.DUTY_TIME_TYPE_SPECIFIC,function(e){return n("router-link",{attrs:{to:{name:"editTaskDetailPage",params:{task:e,date:t.selectedDay}}}},[n("mu-list-item",{attrs:{title:e.name,describeText:e.executetime}},[n("mu-avatar",{attrs:{icon:e.icon,backgroundColor:e.iconBgColor},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"info"},slot:"right"})],1)],1)})],2)],1)},staticRenderFns:[]}},348:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout",staticStyle:{height:"100%"},attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("div",{staticClass:"logo"},[t._v("\n      "+t._s(t.appTitle)+"\n    ")])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"body"},[n("mobile-user-login",{directives:[{name:"show",rawName:"v-show",value:""==t.user._id,expression:"user._id == ''"}]}),t._v(" "),n("router-view",{directives:[{name:"show",rawName:"v-show",value:""!=t.user._id,expression:"user._id != ''"}]})],1)]),t._v(" "),n("div",{staticClass:"footer"},[n("mu-paper",{directives:[{name:"show",rawName:"v-show",value:""!=t.user._id,expression:"user._id != ''"}],staticClass:"bottomFixed"},[n("mu-bottom-nav",{attrs:{value:t.selectedTab},on:{change:t.handleTabChange}},[n("mu-bottom-nav-item",{attrs:{value:"today_task",title:"今日任务",icon:"assignment"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:"task_info",title:"任务统计",icon:"assessment"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:"notification",title:"消息通知",icon:"email"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:"user_center",title:"用户中心",icon:"account_box"}})],1)],1)],1)])},staticRenderFns:[]}},349:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-list",{on:{itemClick:t.itemClicked}},t._l(t.messages,function(e){return n("mu-list-item",{attrs:{title:e.taskname,describeText:e.msgArriveTimeDisplay,value:e,afterText:e.msgContent}},[n("mu-avatar",{attrs:{icon:t.getPriorityIcon(e),backgroundColor:t.getPriorityIconColor(e)},slot:"leftAvatar"})],1)}))],1)},staticRenderFns:[]}},350:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("mu-list",[n("mu-list-item",{attrs:{title:t.queryUser}},[n("mu-icon",{attrs:{value:"person",size:32},slot:"left"})],1),t._v(" "),n("mu-list-item",{attrs:{title:t.time_range}},[n("mu-icon",{attrs:{value:"date_range",size:32},slot:"left"})],1)],1),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",{on:{itemClick:t.itemClicked}},t._l(t.userDaterangeTask,function(e){return n("mu-list-item",{attrs:{title:e.taskname,describeText:e.role,value:e,afterText:"未完成项数: "+e.unfinish_count}},[n("mu-avatar",{attrs:{icon:"work"},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"chevron_right"},slot:"right"})],1)}))],1)])},staticRenderFns:[]}},351:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mu-date-picker",{attrs:{label:"查询开始日期",hintText:"选择开始日期"},model:{value:t.startQueryDate,callback:function(e){t.startQueryDate=e},expression:"startQueryDate"}}),t._v(" "),n("br"),t._v(" "),n("mu-date-picker",{attrs:{label:"查询结束日期",hintText:"选择结束日期"},model:{value:t.endQueryDate,callback:function(e){t.endQueryDate=e},expression:"endQueryDate"}}),t._v(" "),n("br"),t._v(" "),n("mu-raised-button",{staticStyle:{"margin-top":"10px"},attrs:{label:"查询"},on:{click:t.getData}}),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("mu-divider",{attrs:{shallowInset:""}}),t._v(" "),n("mu-list",{on:{itemClick:t.itemClicked}},t._l(t.all_statistic_data,function(e){return n("mu-list-item",{attrs:{title:e.username,describeText:e.role,value:e,afterText:"未完成项数: "+e.unfinish_count}},[n("mu-avatar",{attrs:{icon:"person"},slot:"leftAvatar"}),t._v(" "),n("mu-icon",{attrs:{value:"chevron_right"},slot:"right"})],1)}))],1)},staticRenderFns:[]}},352:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{align:"center"}},[n("mu-text-field",{attrs:{label:"员工编号",hintText:"请输入员工编号或手机号",labelFloat:""},model:{value:t.user_login_data.userid,callback:function(e){t.user_login_data.userid=e},expression:"user_login_data.userid"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{label:"密码",hintText:"请输入密码",type:"password",labelFloat:""},model:{value:t.user_login_data.pass,callback:function(e){t.user_login_data.pass=e},expression:"user_login_data.pass"}}),t._v(" "),n("br"),t._v(" "),n("div",[n("mu-raised-button",{staticClass:"raised-button",staticStyle:{display:"inline-block"},attrs:{label:"取消"},on:{click:t.cancellogin}}),t._v(" "),n("mu-raised-button",{staticClass:"raised-button",staticStyle:{display:"inline-block"},attrs:{label:"登录",backgroundColor:"green"},on:{click:t.commitlogin}})],1)],1)},staticRenderFns:[]}},353:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{align:"center"}},[n("br"),t._v(" "),n("mu-avatar",{attrs:{icon:"person",size:100},slot:"center"}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{disabled:"true",label:"编号",labelFloat:""},model:{value:t.currentUser._id,callback:function(e){t.currentUser._id=e},expression:"currentUser._id"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{disabled:"true",label:"姓名",labelFloat:""},model:{value:t.currentUser.name,callback:function(e){t.currentUser.name=e},expression:"currentUser.name"}}),t._v(" "),n("br"),t._v(" "),n("mu-text-field",{attrs:{disabled:"true",label:"岗位",labelFloat:""},model:{value:t.currentUser.roleName,callback:function(e){t.currentUser.roleName=e},expression:"currentUser.roleName"}}),t._v(" "),n("br"),t._v(" "),n("div",[n("mu-raised-button",{staticStyle:{display:"inline-block"},attrs:{size:"normal",label:"退出登录"},nativeOn:{click:function(e){t.handleLogout(e)}}})],1),t._v(" "),n("mu-dialog",{attrs:{open:t.askLogout,title:"退出"},on:{close:t.closeLogoutDialog}},[t._v("\n    确认退出系统？\n    "),n("mu-flat-button",{attrs:{primary:"",label:"取消"},on:{click:t.closeLogoutDialog},slot:"actions"}),t._v(" "),n("mu-flat-button",{attrs:{primary:"",label:"确定"},on:{click:t.logout},slot:"actions"})],1)],1)},staticRenderFns:[]}},58:function(t,e,n){"use strict";function a(){}a.prototype.clone=function(t){var e={};for(var n in t)e[n]=t[n];return e};var o=new a;e.a=o},6:function(t,e,n){"use strict";n.d(e,"j",function(){return a}),n.d(e,"q",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"o",function(){return i}),n.d(e,"k",function(){return r}),n.d(e,"g",function(){return l}),n.d(e,"p",function(){return u}),n.d(e,"r",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"s",function(){return _}),n.d(e,"t",function(){return f}),n.d(e,"u",function(){return m}),n.d(e,"v",function(){return g}),n.d(e,"b",function(){return h}),n.d(e,"w",function(){return p}),n.d(e,"x",function(){return v}),n.d(e,"e",function(){return T}),n.d(e,"y",function(){return E}),n.d(e,"d",function(){return y}),n.d(e,"z",function(){return D}),n.d(e,"c",function(){return S}),n.d(e,"A",function(){return k}),n.d(e,"B",function(){return b}),n.d(e,"C",function(){return A}),n.d(e,"D",function(){return R}),n.d(e,"E",function(){return O}),n.d(e,"F",function(){return C}),n.d(e,"i",function(){return L}),n.d(e,"h",function(){return U}),n.d(e,"n",function(){return P}),n.d(e,"m",function(){return I}),n.d(e,"G",function(){return j}),n.d(e,"H",function(){return x}),n.d(e,"I",function(){return M}),n.d(e,"l",function(){return N}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return G});var a="CHANGE_APP_TITLE",o="SET_ACTIVE_MENU",s="GET_ALL_USER_TASK_EXEC_DATA",i="GET_ALL_USER_TASK_EXEC_DATA_BY_DATERANGE",r="USER_LOGIN",l="USER_LOGOUT",u="USER_CHANGE_PASS",c="UPSERT_USER_ACCOUNT",d="GET_ALL_USER_ACCOUNT",_="REMOVE_USERS",f="GET_ALL_USER_GROUP",m="UPSERT_USER_GROUP",g="REMOVE_USER_GROUPS",h="GET_ALL_ROLE",p="UPSERT_ROLE",v="REMOVE_ROLES",T="GET_ALL_PERMISSION_ROLE",E="UPSERT_PERMISSION_ROLE",y="GET_ALL_PERMISSION",D="REMOVE_PERMISSION_ROLES",S="GET_ALL_DUTY",k="GET_DUTY_BY_USER",b="UPSERT_DUTY",A="REMOVE_DUTIES",R="GET_ALL_DUTY_CATEGORY",O="UPSERT_DUTY_CATEGORY",C="REMOVE_DUTY_CATEGORIES",L="COMMIT_TASK_EXEC_INFO",U="GET_TASK_EXEC_DATA_BY_DATE",P="GET_USER_TASK_EXEC_DATA_BY_DATERANGE",I="GET_ONE_TASK_EXEC_DATA_BY_DATERANGE",j="GET_ALL_USER_LOCATION",x="UPSERT_USER_LOCATION",M="GET_ALL_INFORM",N="GET_INFORM_BY_USER",w="UPSERT_INFORM",G="REMOVE_INFORMS"}},[254]);
//# sourceMappingURL=app.3e1848466cd8b92e78cb.js.map